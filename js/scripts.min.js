$(function(){var e=$(window),t=$(document),n=$(document.head),o=$(document.body),i="undefined",a="tabindex",s=function(){!function(){"function"==typeof $.fn.nanoScroller&&$(".nano").nanoScroller({preventPageScrolling:!0})}(),function(){"function"==typeof $.fn.slider&&$(".slider-simple").not(".slider-ready").each(function(){var e=$(this),t={isKeyboard:!0,isFit:!0,margin:22,align:0};e.slider(t)})}()},r=function(e,t,n,o){if(window.name===t)return window.location.href=e,window;var i=void 0!=window.screenLeft?window.screenLeft:screen.left,a=void 0!=window.screenTop?window.screenTop:screen.top,s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,l=s/2-n/2+i,c=r/2-o/2+a,f=window.open(e,t,"scrollbars=yes, width="+n+", height="+o+", top="+c+", left="+l);return window.focus&&f.focus(),f},l=function(e,t){var n=e.attr(a);typeof n!==i&&e.data(a,n),e.attr(a,t)},c=function(e){var t=e.data(a);typeof t!==i?(e.removeData(a),e.attr(a,t)):e.removeAttr(a)};typeof $.scrollTo!==i&&$.extend($.scrollTo.defaults,{axis:"y",duration:500,interrupt:!0,fail:function(t){e.scrollTop(t.props.scrollTop)}}),t.on("click",".changeclass",function(t){var n,o,a=$(this),s=!1,r=a.data("changeclass");if(typeof a.data("changeclass-nopreventdefault")===i&&(t.stopPropagation(),t.preventDefault()),"object"==typeof r){for(n in r)if("object"==typeof r[n])for(o in r[n])switch(o){case"addClass":$(n).addClass(r[n][o]),s=!0;break;case"removeClass":$(n).removeClass(r[n][o]),s=!0;break;case"toggleClass":$(n).toggleClass(r[n][o]),s=!0}s&&e.trigger("resize")}}),function(){var t="noanimation";e.on("resize",function(e){var n=$(".js-animated");n.addClass(t),n.offset(),n.removeClass(t)})}(),function(){var n,o=5e3,i=50,a=0,s=0,r=!1,l=!1,c=!1,f="is_visible",u="is_open",d=$(".js-float-panel"),h=$(".js-float-trigger");if(1===d.length&&1===h.length){var p=$(".js-float-burger"),g=d.hasClass(u),m=function(t){if(!g){var u=e.scrollTop(),p=h.offset().top,m=u-a;a=u,s+=m,s<-i?s=-i:s>i&&(s=i);var v=u>=p,y=s===-i,w=s===i;r||(r=!0,l=!0,n=setTimeout(function(){l=!1},o)),v&&(y||l||t)&&!c&&(d.addClass(f),c=!0),v&&(!w||l||t)||!c||(d.removeClass(f),c=!1,l&&(l=!1,clearTimeout(n)))}},v=function(e){d.toggleClass(u,e),g=d.hasClass(u),m(!0)};p.on("click",function(e){e.preventDefault(),v()}),d.on("click","a[href]",function(e){v(!1)}),t.on("keydown",function(e){!g||27!==e.keyCode||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.stopImmediatePropagation(),v(!1))}),t.on("mousedown touchstart",function(e){g&&v(!1)}),d.on("mousedown touchstart",function(e){g&&e.stopPropagation()}),e.on("resize scroll",function(e){m()}),m()}}(),function(){var n=$(".js-burger"),i=$(".js-menu"),a=i.find("a[href], label"),s=a.first(),r=a.last(),f=i.hasClass("is_active"),u=function(e){n.toggleClass("is_open",e),i.toggleClass("is_active",e),f=i.hasClass("is_active"),f?o.find("a, :input, [tabindex]").not(i.find("a, :input, [tabindex]")).each(function(){var e=$(this);l(e,"-1"),e.addClass("js-inert")}):$(".js-inert").each(function(){var e=$(this);c(e),e.removeClass("js-inert")})};n.on("click",function(e){e.preventDefault(),u()}),i.on("click","a[href], label",function(e){u(!1)}),e.on("resize",function(e){f&&u(!1)}),t.on("keydown",function(e){!f||27!==e.keyCode||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.stopImmediatePropagation(),u(!1)),9!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey||(!e.shiftKey&&r.is(e.target)&&(e.preventDefault(),s.focus()),e.shiftKey&&s.is(e.target)&&(e.preventDefault(),r.focus()))}),t.on("mousedown touchstart",function(e){f&&u(!1)}),n.add(i).on("mousedown touchstart",function(e){f&&e.stopPropagation()})}(),function(){var e=$(".js-search-form"),n=e.find(".js-search-input"),o=e.find(".js-search-close"),i=$(".js-burger"),a=$(".js-menu-list"),s=$(".js-logo"),r="is_expanded",f=!1,u=function(e){27!==e.keyCode||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||""!==n.val()||(e.stopImmediatePropagation(),h(),n.blur())},d=function(){f||(l(i,-1),l(s,-1),a.toggleClass("hide",!0),e.toggleClass(r,!0),t.on("keydown",u),f=!0)},h=function(){f&&(e.toggleClass(r,!1),t.off("keydown",u),c(i),c(s),a.toggleClass("hide",!1),f=!1)};1===a.length&&(n.on("focus",function(e){f||d()}),n.on("blur",function(e){var t=n.val(),o=n.prop("defaultValue");!f||""!==o&&t===o||h()}),e.on("submit",function(e){f||(e.preventDefault(),d(),n.focus())}),o.on("click",function(e){e.preventDefault(),h(),n.blur()}),e.hasClass(r)&&d())}(),function(){var n,i,a,s,r,f,u=!1,d=function(e){27!==e.keyCode||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.stopImmediatePropagation(),v()),9!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey||(!e.shiftKey&&r.is(e.target)&&(e.preventDefault(),s.focus()),e.shiftKey&&s.is(e.target)&&(e.preventDefault(),r.focus()))},h=function(e){v()},p=function(t){e.off("scroll",p),o.css({position:"fixed",width:"100%",height:"100%"})},g=function(){e.trigger("resize")},m=function(){u||(n=$(".js-dialog.is_opened"),i=n.find("a, :input, [tabindex]"),a=n.find(':enabled[tabindex!="-1"]'),s=a.first(),r=a.last(),f=n.find(".js-dialog-autofocus").first(),f.length||(f=s),t.on("keydown",d),t.on("mousedown touchstart",h),e.on("scroll",p),o.css({overflow:"hidden"}),o.find("a, :input, [tabindex]").not(i).each(function(){var e=$(this);l(e,"-1"),e.addClass("js-inert")}),f.focus().select(),u=!0,g())},v=function(){u&&($(".js-dialog.is_opened").removeClass("is_opened"),t.off("keydown",d),t.off("mousedown touchstart",h),e.off("scroll",p),o.css({overflow:"",position:"",width:"",height:""}),$(".js-inert").each(function(){var e=$(this);c(e),e.removeClass("js-inert")}),u=!1,g())};t.on("click",".js-dialog-open",function(e){e.preventDefault(),$($(this).data("dialog")).addClass("is_opened"),m()}),t.on("mousedown touchstart",".js-dialog-window",function(e){e.stopPropagation()}),t.on("click",".js-dialog-close",function(e){e.stopPropagation(),e.preventDefault(),v()}),$(".js-dialog.is_opened").each(function(){m()})}(),t.on("click",".js-purchase-button",function(e){e.preventDefault(),$(".js-purchase-form").first().each(function(){var e=$(this),t=e.find("[type=submit]").first();t.length>0?t.trigger("click"):e.trigger("submit")})}),function(){$(".field__input").on("input change",function(e){var t=$(this),n=t.closest(".field");""!==t.val()?(n.addClass("field--not-empty"),n.removeClass("field--error")):n.removeClass("field--not-empty")})}(),function(){var n,o,a="js-canonical",s="js-canonical-current",r=.5,l=[];if($("."+a).length){var c=function(){history.scrollRestoration="manual",e.on("resize scroll",f),f()},f=function(){if(n=e.height()*r,l=[],$("."+a).each(function(){var e=$(this);l.push({element:this,offset:e.offset().top-(parseInt(e.css("marginTop"),10)||0)})}),l.length){var t,c,f,u,d=e.scrollTop();for(t=0;t<l.length;t++)f=l[t].offset-d-n,f<0&&(typeof u===i||f>u)&&(u=f,c=t);typeof c===i&&typeof o!==i&&(c=0),typeof c!==i&&c!==o&&($("."+s).removeClass(s),$(l[c].element).each(function(){var e=$(this),t=e.data("canonical-url")||"",n=e.data("canonical-doctitle")||"",o=t.replace(/^(.*:)?\/\/[^\/]*/,"");document.title=n,history.replaceState(null,n,o),e.addClass(s)}),o=c)}};t.on("click",'a[href^="#"]',function(t){var n=$(this),o=n.attr("href");o.length<=1||0!==o.indexOf("#")||(t.preventDefault(),$(o).each(function(){var t,n=$(this),o=n.closest(".js-canonical"),i=o.get(0);for(t=0;t<l.length;t++)if(i===l[t].element){var a=0,s=$(".js-header");1===s.length&&(a=s.position().top+s.outerHeight()),e.scrollTop(0),e.trigger("scroll"),e.scrollTop(l[t].offset-a);break}}))});var u=$("."+s).first();if(1===u.length){var d=0,h=$(".js-float-panel");1===h.length?(h.addClass("is_visible noanimation"),h.offset(),h.removeClass("noanimation")):h=$(".js-header"),1===h.length&&(d=h.position().top+h.outerHeight()),e.scrollTop(u.offset().top-(parseInt(u.css("marginTop"),10)||0)-d),c()}else c()}}(),function(){var e=function(t){t&&(t.stopPropagation(),t.preventDefault());var o=$(this),a=o.closest(".js-article"),s=a.length?a:o,l="",c="",f="",u="",d="",h="",p=o.data("share-network"),g=s.data("share-url"),m=s.data("share-picture"),v=s.data("share-title"),y=s.data("share-description"),w=function(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")};if(""===p&&t)$(".js-share-link").each(function(){var t=$(this),n=t.data("share-network"),o=!1;n&&(typeof g!==i&&(t.data("share-url",g),o=!0),typeof m!==i&&(t.data("share-picture",m),o=!0),typeof v!==i&&(t.data("share-title",v),o=!0),typeof y!==i&&(t.data("share-description",y),o=!0)),o&&e.call(this)});else{if(p)switch(f=n.find('link[rel="canonical"]').prop("href")||n.find('meta[property="og:url"]').prop("content")||"",u=n.find('meta[property="og:title"]').prop("content")||"",d=n.find('meta[property="og:description"]').prop("content")||"",h=n.find('link[rel="image_src"]').prop("href")||"",c=g||f,p){case"fb":l="https://www.facebook.com/sharer/sharer.php?"+w({u:c});break;case"vk":l="https://vk.com/share.php?"+w({url:c});break;case"tg":l="https://t.me/share/url?"+w({url:c})}if(l&&(this.href=l),!t||t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)return;(l||this.href&&"#"!==o.attr("href"))&&r(l?l:this.href,"share",800,450)}};t.on("click",".js-share-link",e),$(".js-share-link").each(function(){e.call(this)})}(),function(){s(),e.trigger("resize")}()});