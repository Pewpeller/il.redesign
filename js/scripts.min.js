$(function(){var e="undefined",t="tabindex",n=$(window),o=$(document),i=$(document.head),a=$(document.body),s=50,r=function(){!function(){"function"==typeof $.fn.nanoScroller&&$(".nano").nanoScroller({preventPageScrolling:!0})}(),function(){"function"==typeof $.fn.slider&&$(".slider-simple").not(".slider-ready").each(function(){var e=$(this),t={isKeyboard:!0,isFit:!0,margin:22,align:0};e.slider(t)})}()},l=function(e,t,n,o){if(window.name===t)return window.location.href=e,window;var i=void 0!=window.screenLeft?window.screenLeft:screen.left,a=void 0!=window.screenTop?window.screenTop:screen.top,s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,l=s/2-n/2+i,c=r/2-o/2+a,f=window.open(e,t,"scrollbars=yes, width="+n+", height="+o+", top="+c+", left="+l);return window.focus&&f.focus(),f},c=function(n,o){var i=n.attr(t);typeof i!==e&&n.data(t,i),n.attr(t,o)},f=function(n){var o=n.data(t);typeof o!==e?(n.removeData(t),n.attr(t,o)):n.removeAttr(t)};typeof $.scrollTo!==e&&$.extend($.scrollTo.defaults,{axis:"y",duration:500,interrupt:!0,fail:function(e){n.scrollTop(e.props.scrollTop)}}),o.on("click",".changeclass",function(t){var o,i,a=$(this),s=!1,r=a.data("changeclass");if(typeof a.data("changeclass-nopreventdefault")===e&&(t.stopPropagation(),t.preventDefault()),"object"==typeof r){for(o in r)if("object"==typeof r[o])for(i in r[o])switch(i){case"addClass":$(o).addClass(r[o][i]),s=!0;break;case"removeClass":$(o).removeClass(r[o][i]),s=!0;break;case"toggleClass":$(o).toggleClass(r[o][i]),s=!0}s&&n.trigger("resize")}}),function(){var e="noanimation";n.on("resize",function(t){var n=$(".js-animated");n.addClass(e),n.offset(),n.removeClass(e)})}(),function(){var e,t=5e3,i=0,a=0,r=!1,l=!1,c=!1,f="is_visible",u="is_open",d=$(".js-float-panel"),h=$(".js-float-trigger");if(1===d.length&&1===h.length){var p=$(".js-float-burger"),g=d.hasClass(u),m=function(o){if(!g){var u=n.scrollTop(),p=h.offset().top,m=u-i;i=u,a+=m,a<-s?a=-s:a>s&&(a=s);var v=u>=p,y=a===-s,w=a===s;r||(r=!0,l=!0,e=setTimeout(function(){l=!1},t)),v&&(y||l||o)&&!c&&(d.addClass(f),c=!0),v&&(!w||l||o)||!c||(d.removeClass(f),c=!1,l&&(l=!1,clearTimeout(e)))}},v=function(e){d.toggleClass(u,e),g=d.hasClass(u),m(!0)};p.on("click",function(e){e.preventDefault(),v()}),d.on("click","a[href]",function(e){v(!1)}),o.on("keydown",function(e){!g||27!==e.keyCode||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.stopImmediatePropagation(),v(!1))}),o.on("mousedown touchstart",function(e){g&&v(!1)}),d.on("mousedown touchstart",function(e){g&&e.stopPropagation()}),n.on("resize scroll",function(e){m()}),m()}}(),function(){var e=$(".js-burger"),t=$(".js-menu"),i=t.find("a[href], label"),s=i.first(),r=i.last(),l=t.hasClass("is_active"),u=function(n){e.toggleClass("is_open",n),t.toggleClass("is_active",n),l=t.hasClass("is_active"),l?a.find("a, :input, [tabindex]").not(t.find("a, :input, [tabindex]")).each(function(){var e=$(this);c(e,"-1"),e.addClass("js-inert")}):$(".js-inert").each(function(){var e=$(this);f(e),e.removeClass("js-inert")})};e.on("click",function(e){e.preventDefault(),u()}),t.on("click","a[href], label",function(e){u(!1)}),n.on("resize",function(e){l&&u(!1)}),o.on("keydown",function(e){!l||27!==e.keyCode||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.stopImmediatePropagation(),u(!1)),9!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey||(!e.shiftKey&&r.is(e.target)&&(e.preventDefault(),s.focus()),e.shiftKey&&s.is(e.target)&&(e.preventDefault(),r.focus()))}),o.on("mousedown touchstart",function(e){l&&u(!1)}),e.add(t).on("mousedown touchstart",function(e){l&&e.stopPropagation()})}(),function(){var e=$(".js-search-form"),t=e.find(".js-search-input"),n=e.find(".js-search-close"),i=$(".js-burger"),a=$(".js-menu-list"),s=$(".js-logo"),r="is_expanded",l=!1,u=function(e){27!==e.keyCode||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||""!==t.val()||(e.stopImmediatePropagation(),h(),t.blur())},d=function(){l||(c(i,-1),c(s,-1),a.toggleClass("hide",!0),e.toggleClass(r,!0),o.on("keydown",u),l=!0)},h=function(){l&&(e.toggleClass(r,!1),o.off("keydown",u),f(i),f(s),a.toggleClass("hide",!1),l=!1)};1===a.length&&(t.on("focus",function(e){l||d()}),t.on("blur",function(e){var n=t.val(),o=t.prop("defaultValue");!l||""!==o&&n===o||h()}),e.on("submit",function(e){l||(e.preventDefault(),d(),t.focus())}),n.on("click",function(e){e.preventDefault(),h(),t.blur()}),e.hasClass(r)&&d())}(),function(){var e,t,i,s,r,l,u=!1,d=function(e){27!==e.keyCode||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.stopImmediatePropagation(),v()),9!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey||(!e.shiftKey&&r.is(e.target)&&(e.preventDefault(),s.focus()),e.shiftKey&&s.is(e.target)&&(e.preventDefault(),r.focus()))},h=function(e){v()},p=function(e){n.off("scroll",p),a.css({position:"fixed",width:"100%",height:"100%"})},g=function(){n.trigger("resize")},m=function(){u||(e=$(".js-dialog.is_opened"),t=e.find("a, :input, [tabindex]"),i=e.find(':enabled[tabindex!="-1"]'),s=i.first(),r=i.last(),l=e.find(".js-dialog-autofocus").first(),l.length||(l=s),o.on("keydown",d),o.on("mousedown touchstart",h),n.on("scroll",p),a.css({overflow:"hidden"}),a.find("a, :input, [tabindex]").not(t).each(function(){var e=$(this);c(e,"-1"),e.addClass("js-inert")}),l.focus().select(),u=!0,g())},v=function(){u&&($(".js-dialog.is_opened").removeClass("is_opened"),o.off("keydown",d),o.off("mousedown touchstart",h),n.off("scroll",p),a.css({overflow:"",position:"",width:"",height:""}),$(".js-inert").each(function(){var e=$(this);f(e),e.removeClass("js-inert")}),u=!1,g())};o.on("click",".js-dialog-open",function(e){e.preventDefault(),$($(this).data("dialog")).addClass("is_opened"),m()}),o.on("mousedown touchstart",".js-dialog-window",function(e){e.stopPropagation()}),o.on("click",".js-dialog-close",function(e){e.stopPropagation(),e.preventDefault(),v()}),$(".js-dialog.is_opened").each(function(){m()})}(),o.on("click",".js-purchase-button",function(e){e.preventDefault(),$(".js-purchase-form").first().each(function(){var e=$(this),t=e.find("[type=submit]").first();t.length>0?t.trigger("click"):e.trigger("submit")})}),function(){$(".field__input").on("input change",function(e){var t=$(this),n=t.closest(".field");""!==t.val()?(n.addClass("field--not-empty"),n.removeClass("field--error")):n.removeClass("field--not-empty")})}(),function(){var t,i,a="js-canonical",r="js-canonical-current",l=.5,c=[];if($("."+a).length){var f=function(){history.scrollRestoration="manual",n.on("resize scroll",u),u()},u=function(){if(t=n.height()*l,c=[],$("."+a).each(function(){var e=$(this);c.push({element:this,offset:e.offset().top-(parseInt(e.css("marginTop"),10)||0)})}),c.length){var o,s,f,u,d=n.scrollTop();for(o=0;o<c.length;o++)f=c[o].offset-d-t,f<0&&(typeof u===e||f>u)&&(u=f,s=o);typeof s===e&&typeof i!==e&&(s=0),typeof s!==e&&s!==i&&($("."+r).removeClass(r),$(c[s].element).each(function(){var e=$(this),t=e.data("canonical-url")||"",n=e.data("canonical-doctitle")||"",o=t.replace(/^(.*:)?\/\/[^\/]*/,"");document.title=n,history.replaceState(null,n,o),e.addClass(r)}),i=s)}};o.on("click",'a[href^="#"]',function(e){var t=$(this),o=t.attr("href");if(0===o.indexOf("#"))return e.preventDefault(),"#"===o?void n.scrollTop(0):void $(o).each(function(){var e,t=$(this),o=t.closest(".js-canonical"),i=o.get(0);for(e=0;e<c.length;e++)if(i===c[e].element){var a,r=0,l=$(".js-header");1===l.length&&(r=l.position().top+l.outerHeight()),a=c[e].offset-r,n.scrollTop(a-2*s),n.trigger("scroll"),n.scrollTop(a);break}})});var d=$("."+r).first();if(1===d.length){var h=0,p=$(".js-float-panel");1===p.length?(p.addClass("is_visible noanimation"),p.offset(),p.removeClass("noanimation")):p=$(".js-header"),1===p.length&&(h=p.position().top+p.outerHeight()),n.scrollTop(d.offset().top-(parseInt(d.css("marginTop"),10)||0)-h),f()}else f()}}(),function(){var t=function(n){n&&(n.stopPropagation(),n.preventDefault());var o=$(this),a=o.closest(".js-article"),s=a.length?a:o,r="",c="",f="",u="",d="",h="",p=o.data("share-network"),g=s.data("share-url"),m=s.data("share-picture"),v=s.data("share-title"),y=s.data("share-description"),w=function(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")};if(""===p&&n)$(".js-share-link").each(function(){var n=$(this),o=n.data("share-network"),i=!1;o&&(typeof g!==e&&(n.data("share-url",g),i=!0),typeof m!==e&&(n.data("share-picture",m),i=!0),typeof v!==e&&(n.data("share-title",v),i=!0),typeof y!==e&&(n.data("share-description",y),i=!0)),i&&t.call(this)});else{if(p)switch(f=i.find('link[rel="canonical"]').prop("href")||i.find('meta[property="og:url"]').prop("content")||"",u=i.find('meta[property="og:title"]').prop("content")||"",d=i.find('meta[property="og:description"]').prop("content")||"",h=i.find('link[rel="image_src"]').prop("href")||"",c=g||f,p){case"fb":r="https://www.facebook.com/sharer/sharer.php?"+w({u:c});break;case"vk":r="https://vk.com/share.php?"+w({url:c});break;case"tg":r="https://t.me/share/url?"+w({url:c})}if(r&&(this.href=r),!n||n.ctrlKey||n.altKey||n.shiftKey||n.metaKey)return;(r||this.href&&"#"!==o.attr("href"))&&l(r?r:this.href,"share",800,450)}};o.on("click",".js-share-link",t),$(".js-share-link").each(function(){t.call(this)})}(),function(){r(),n.trigger("resize")}()});