$(function(){var e=$(window),t=$(document),n=$(document.head),o=$(document.body),i="undefined",a="tabindex",s=function(){!function(){"function"==typeof $.fn.nanoScroller&&$(".nano").nanoScroller({preventPageScrolling:!0})}(),function(){"function"==typeof $.fn.slider&&$(".slider-simple").not(".slider-ready").each(function(){var e=$(this),t={isKeyboard:!0,isFit:!0,margin:22,align:0};e.slider(t)})}()},r=function(e,t,n,o){if(window.name===t)return window.location.href=e,window;var i=void 0!=window.screenLeft?window.screenLeft:screen.left,a=void 0!=window.screenTop?window.screenTop:screen.top,s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,c=s/2-n/2+i,l=r/2-o/2+a,f=window.open(e,t,"scrollbars=yes, width="+n+", height="+o+", top="+l+", left="+c);return window.focus&&f.focus(),f},c=function(e,t){var n=e.attr(a);typeof n!==i&&e.data(a,n),e.attr(a,t)},l=function(e){var t=e.data(a);typeof t!==i?(e.removeData(a),e.attr(a,t)):e.removeAttr(a)};typeof $.scrollTo!==i&&$.extend($.scrollTo.defaults,{axis:"y",duration:500,interrupt:!0,fail:function(t){e.scrollTop(t.props.scrollTop)}}),t.on("click",".changeclass",function(t){var n,o,a=$(this),s=!1,r=a.data("changeclass");if(typeof a.data("changeclass-nopreventdefault")===i&&(t.stopPropagation(),t.preventDefault()),"object"==typeof r){for(n in r)if("object"==typeof r[n])for(o in r[n])switch(o){case"addClass":$(n).addClass(r[n][o]),s=!0;break;case"removeClass":$(n).removeClass(r[n][o]),s=!0;break;case"toggleClass":$(n).toggleClass(r[n][o]),s=!0}s&&e.trigger("resize")}}),function(){var t="noanimation";e.on("resize",function(e){var n=$(".js-animated");n.addClass(t),n.offset(),n.removeClass(t)})}(),function(){var n,o=5e3,i=50,a=0,s=0,r=!1,c=!1,l=!1,f="is_visible",d="is_open",u=$(".js-float-panel"),h=$(".js-float-trigger");if(1===u.length&&1===h.length){var p=$(".js-float-burger"),g=u.hasClass(d),m=function(t){if(!g){var d=e.scrollTop(),p=h.offset().top,m=d-a;a=d,s+=m,s<-i?s=-i:s>i&&(s=i);var v=d>=p,y=s===-i,w=s===i;r||(r=!0,c=!0,n=setTimeout(function(){c=!1},o)),v&&(y||c||t)&&!l&&(u.addClass(f),l=!0),v&&(!w||c||t)||!l||(u.removeClass(f),l=!1,c&&(c=!1,clearTimeout(n)))}},v=function(e){u.toggleClass(d,e),g=u.hasClass(d),m(!0)};p.on("click",function(e){e.preventDefault(),v()}),u.on("click","a[href]",function(e){v(!1)}),t.on("keydown",function(e){!g||27!==e.keyCode||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.stopImmediatePropagation(),v(!1))}),t.on("mousedown touchstart",function(e){g&&v(!1)}),u.on("mousedown touchstart",function(e){g&&e.stopPropagation()}),e.on("resize scroll",function(e){m()}),m()}}(),function(){var n=$(".js-burger"),o=$(".js-menu"),i=o.hasClass("is_active"),a=function(e){o.toggleClass("is_active",e),i=o.hasClass("is_active")};n.on("click",function(e){e.preventDefault(),a()}),o.on("click","a[href], label",function(e){a(!1)}),e.on("resize",function(e){i&&a(!1)}),t.on("keydown",function(e){!i||27!==e.keyCode||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.stopImmediatePropagation(),a(!1))}),t.on("mousedown touchstart",function(e){i&&a(!1)}),n.add(o).on("mousedown touchstart",function(e){i&&e.stopPropagation()})}(),function(){var e=$(".js-search-form"),n=e.find(".js-search-input"),o=e.find(".js-search-close"),i=$(".js-burger"),a=$(".js-menu"),s=$(".js-logo"),r="is_expanded",f=!1,d=function(e){27!==e.keyCode||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||""!==n.val()||(e.stopImmediatePropagation(),h(),n.blur())},u=function(){f||(c(i,-1),c(s,-1),a.toggleClass("hide",!0),e.toggleClass(r,!0),t.on("keydown",d),f=!0)},h=function(){f&&(e.toggleClass(r,!1),t.off("keydown",d),l(i),l(s),a.toggleClass("hide",!1),f=!1)};n.on("focus",function(e){f||u()}),n.on("blur",function(e){var t=n.val(),o=n.prop("defaultValue");!f||""!==o&&t===o||h()}),e.on("submit",function(e){f||(e.preventDefault(),u(),n.focus())}),o.on("click",function(e){e.preventDefault(),h(),n.blur()}),e.hasClass(r)&&u()}(),function(){var n,i,a,s,r,f,d=!1,u=function(e){27!==e.keyCode||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.stopImmediatePropagation(),v()),9!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey||(!e.shiftKey&&r.is(e.target)&&(e.preventDefault(),s.focus()),e.shiftKey&&s.is(e.target)&&(e.preventDefault(),r.focus()))},h=function(e){v()},p=function(t){e.off("scroll",p),o.css({position:"fixed",width:"100%",height:"100%"})},g=function(){e.trigger("resize")},m=function(){d||(n=$(".js-dialog.is_opened"),i=n.find("a, :input, [tabindex]"),a=n.find(':enabled[tabindex!="-1"]'),s=a.first(),r=a.last(),f=n.find(".js-dialog-autofocus").first(),f.length||(f=s),t.on("keydown",u),t.on("mousedown touchstart",h),e.on("scroll",p),o.css({overflow:"hidden"}),o.find("a, :input, [tabindex]").not(i).each(function(){var e=$(this);c(e,"-1"),e.addClass("js-dialog-inert")}),f.focus().select(),d=!0,g())},v=function(){d&&($(".js-dialog.is_opened").removeClass("is_opened"),t.off("keydown",u),t.off("mousedown touchstart",h),e.off("scroll",p),o.css({overflow:"",position:"",width:"",height:""}),$(".js-dialog-inert").each(function(){var e=$(this);l(e),e.removeClass("js-dialog-inert")}),d=!1,g())};t.on("click",".js-dialog-open",function(e){e.preventDefault(),$($(this).data("dialog")).addClass("is_opened"),m()}),t.on("mousedown touchstart",".js-dialog-window",function(e){e.stopPropagation()}),t.on("click",".js-dialog-close",function(e){e.stopPropagation(),e.preventDefault(),v()}),$(".js-dialog.is_opened").each(function(){m()})}(),t.on("click",".js-purchase-button",function(e){e.preventDefault(),$(".js-purchase-form").first().each(function(){var e=$(this),t=e.find("[type=submit]").first();t.length>0?t.trigger("click"):e.trigger("submit")})}),function(){$(".field__input").on("input change",function(e){var t=$(this),n=t.closest(".field");""!==t.val()?(n.addClass("field--not-empty"),n.removeClass("field--error")):n.removeClass("field--not-empty")})}(),function(){var t,n,o="js-canonical",a="js-canonical-current",s=.5,r=[];if($("."+o).length){var c=function(){history.scrollRestoration="manual",e.on("resize scroll",l),l()},l=function(){if(t=e.height()*s,r=[],$("."+o).each(function(){r.push({element:this,offset:$(this).offset().top})}),r.length){var c,l,f,d,u=e.scrollTop();for(c=0;c<r.length;c++)f=r[c].offset-u-t,f<0&&(typeof d===i||f>d)&&(d=f,l=c);typeof l===i&&typeof n!==i&&(l=0),typeof l!==i&&l!==n&&($("."+a).removeClass(a),$(r[l].element).each(function(){var e=$(this),t=e.data("canonical-url")||"",n=e.data("canonical-doctitle")||"",o=t.replace(/^(.*:)?\/\/[^\/]*/,"");document.title=n,history.replaceState(null,n,o),e.addClass(a)}),n=l)}},f=$("."+a).first();if(1===f.length){var d=$(".js-float-panel"),u=0;1===d.length?(d.addClass("is_visible noanimation"),d.offset(),d.removeClass("noanimation")):d=$(".js-header"),1===d.length&&(u=d.position().top+d.outerHeight()),e.scrollTop(f.offset().top-(parseInt(f.css("marginTop"),10)||0)-u),c()}else c()}}(),function(){var e=function(t){t&&(t.stopPropagation(),t.preventDefault());var o=$(this),a=o.closest(".js-article"),s=a.length?a:o,c="",l="",f="",d="",u="",h="",p=o.data("share-network"),g=s.data("share-url"),m=s.data("share-picture"),v=s.data("share-title"),y=s.data("share-description"),w=function(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")};if(""===p&&t)$(".js-share-link").each(function(){var t=$(this),n=t.data("share-network"),o=!1;n&&(typeof g!==i&&(t.data("share-url",g),o=!0),typeof m!==i&&(t.data("share-picture",m),o=!0),typeof v!==i&&(t.data("share-title",v),o=!0),typeof y!==i&&(t.data("share-description",y),o=!0)),o&&e.call(this)});else{if(p)switch(f=n.find('link[rel="canonical"]').prop("href")||n.find('meta[property="og:url"]').prop("content")||"",d=n.find('meta[property="og:title"]').prop("content")||"",u=n.find('meta[property="og:description"]').prop("content")||"",h=n.find('link[rel="image_src"]').prop("href")||"",l=g||f,p){case"fb":c="https://www.facebook.com/sharer/sharer.php?"+w({u:l});break;case"vk":c="https://vk.com/share.php?"+w({url:l});break;case"tg":c="https://t.me/share/url?"+w({url:l})}if(c&&(this.href=c),!t||t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)return;(c||this.href&&"#"!==o.attr("href"))&&r(c?c:this.href,"share",800,450)}};t.on("click",".js-share-link",e),$(".js-share-link").each(function(){e.call(this)})}(),function(){s(),e.trigger("resize")}()});